<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="management">
 
 	<select id="selectReservation" resultType="Management" parameterType="string">
             
        select * <!-- reservation.reserve_state, member.member_name, member.member_email -->
		from reservation, member, room, lodgment
		where reservation.member_no = member.member_no
		and room.lodgment_no = reservation.lodgment_no
		and lodgment.lodgment_no = room.lodgment_no
		and reservation.room_no = room.room_no
		and lodgment.lodgment_no = #{value}<!-- #{lodgmentNo}  지금은 값을 직접 LOD1로 지정해뒀으나 나중에 숙박업체 번호 lodgmentNo 변수로 받아와야됨-->
		order by reservation.reserve_date desc

    </select>
    
  
<delete id="deleteReserve" parameterType="string">
	DELETE FROM RESERVATION
	WHERE RESERVE_NO IN 
		<foreach collection="array" item="item" index="index" separator="," open="(" close=")">
		    '${array[index]}'
		</foreach>
</delete>

</mapper>


