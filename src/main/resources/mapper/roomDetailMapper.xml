<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="detailRoom">
<!-- 건수조회 추후 토탈 이미지로 들어갈 예정-->
<select id="getDetailRoom" resultType="detailRoom" parameterType="detailRoom">
  SELECT * FROM ROOM WHERE ROOM_NO = #{roomNo}
</select>

  <!-- 숙박 업체에 대한 전체 객실 리스트-->
    <select id="getDetailRooms" resultType="detailRoom" parameterType="lodgment">
        select R.ROOM_PRICE, R.ROOM_CAPA, R.ROOM_INFO, R.ROOM_IMG, R.ROOM_NAME, R.ROOM_QUANTITY
          from LODGMENT L join ROOM R
            on(L.LODGMENT_NO = R.LODGMENT_NO)
        where R.LODGMENT_NO = #{lodgmentNo}
  </select>
    <!--   숙박 업체에 대한 전체 후기 리스트 -->
    <select id="getDetailRoomPosts" resultType="roomPost" parameterType="lodgment">
        SELECT p.POSTSCRIPT_CONTENT, r.ROOM_NAME, l.LODGMENT_NO, m.member_nick, p.GRADE
        FROM POSTSCRIPT p JOIN ROOM r
                 ON p.ROOM_NO = r.ROOM_NO
               JOIN LODGMENT l
                 ON p.LODGMENT_NO = l.LODGMENT_NO
                     join member m
                      on p.member_no = m.member_no
                            AND l.LODGMENT_NO = #{lodgmentNo}
        order by p.POSTSCRIPT_NO desc
  </select>
</mapper>